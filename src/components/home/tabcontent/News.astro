---
// TODO - refactor this; move the knightlab code inside the project as a dep?
// Might even be wise to drop this as a thing altogether; since its actually quite heavy.

// currently we render the news via an iframe, using knightlabs API.
// This may be unsafe if the syntax changes

// Also need to fix fonts.

// Note this may have some caching issues -
// i think this can cache an invalid state and hang...
// seems to work consistantly on chrome but required incog for firefox?

const timelineId = "1nSOakYvr0edaU24mZfO7jp2f6OxcqdWBaVbnL5Anm7Q";
const initialZoom = 5;
const height = 500;
const timenavHeight = 200;
const animation = 250;

const iframeSrc =
  `https://cdn.knightlab.com/libs/timeline3/latest/embed/index.html
   ?source=${timelineId}
   &initial_zoom=${initialZoom}
   &height=${height}
   &start_at_end=true
   &timenav_height=${timenavHeight}
   &animation=${animation}`.replace(/\s+/g, "");
---

<h3 class="text-xl font-medium pb-4">Latest News</h3>
<div class="flex justify-center">
  <iframe src={iframeSrc} width="950px" height={`${height}px`} allowfullscreen
  ></iframe>
</div>
