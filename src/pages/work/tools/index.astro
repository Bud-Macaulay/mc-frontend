---
// Tools are currently read from yaml

// Some tools are hosted at toolname.mat.xyz, others are /tools/toolname with different methods of deployment / getting the header...
// there is not a clean strategy for not dynamically loading dev/prod versions of tools

// probably definining a var .env which switches which yml files are read is a nice way to solve this.
// but it might be wise to try to uniform how all our tools are deployed in general.
// as this will involve encoding whether some tools are iframed or not.

import Layout from "./src/layouts/Layout.astro";
import BannerList from "./src/components/BannerList.astro";

const breadcrumbs = [
  { name: "Home", href: "." },
  { name: "Work", href: "work" },
  { name: "Tools", href: "work/tools" },
];

import fs from "fs";
import yaml from "js-yaml";

const file = fs.readFileSync("./src/data/tools.yml", "utf8");
const data = yaml.load(file);
const menu = data.menu;
---

<Layout breadcrumbs={breadcrumbs} title="Tools">
  <div class="space-y-10">
    <section class="space-y-4">
      <h3 class="text-2xl">Tools</h3>
      <hr class="border-t border-gray-300 mb-6" />

      <p>
        Computational tools offered as a service: no download, no installation,
        but click-and-run.
      </p>
      <BannerList entries={menu.main_tools} rootPath="work/tools" />
    </section>
    <section>
      <h3 class="text-xl mb-2">Contributed Tools</h3>
      <p class="mb-4">
        The tools below have been contributed and are maintained by authors
        affiliated with the <a
          href="https://www.materialscloud.org/home#partners"
          >Materials Cloud partners</a
        >.
      </p>
      <BannerList entries={menu.contributed_tools} rootPath="work/tools" />
    </section>
  </div>
</Layout>
