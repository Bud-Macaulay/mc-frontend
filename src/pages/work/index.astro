---
import Layout from "@layouts/Layout.astro";
import RectangleButton from "@components/RectangleButton.astro";
import BannerList from "@components/BannerList.astro";

import fs from "fs";
import yaml from "js-yaml";

const tfile = fs.readFileSync("./src/data/tools.yml", "utf8");
const tools = yaml.load(tfile);

const workButtons = [
  {
    href: "https://www.aiidalab.net",
    img: "images/aiidalab_gears.png",
    title: "AiiDAlab",
    subtitle: "Run your own simulations using AiiDA on the cloud",
  },
  {
    href: "https://quantum-mobile.readthedocs.io",
    img: "images/quantum_mobile.png",
    title: "Quantum Mobile",
    subtitle: "Quantum simulation codes + AiiDA in a virtual machine",
  },
];

const breadcrumbs = [{ name: "Work", href: "work" }];
---

<Layout breadcrumbs={breadcrumbs} title="Work">
  <div class="space-y-10">
    <section class="space-y-4">
      <h3 class="text-2xl">Work with your data</h3>
      <hr class="border-t border-gray-300 mb-6" />

      <!-- <h3 class="text-xl">Run</h3> -->

      <div class="mx-auto flex flex-col sm:flex-row sm:flex-wrap justify-center gap-4 sm:gap-6 items-center">
        {
          workButtons.map((btn) => (
            <RectangleButton
              href={btn.href}
              img={btn.img}
              title={btn.title}
              subtitle={btn.subtitle}
            />
          ))
        }
      </div>
    </section>
    <section class="space-y-4">
      <h3 class="text-xl">Tools</h3>
      <hr class="border-t border-gray-300 mb-6" />

      <p>
        Computational tools offered as a service: no download, no installation,
        but click-and-run.
      </p>
      <BannerList entries={tools.menu.main_tools} rootPath="work/tools" />
    </section>
    <section>
      <h3 class="text-xl mb-2">Contributed Tools</h3>
      <p class="mb-4">
        The tools below have been contributed and are maintained by authors
        affiliated with the <a
          href="https://www.materialscloud.org/home#partners"
          >Materials Cloud partners</a
        >.
      </p>
      <BannerList
        entries={tools.menu.contributed_tools}
        rootPath="work/tools"
      />
    </section>
  </div>
</Layout>
